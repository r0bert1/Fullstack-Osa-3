(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(11),o=t.n(u),i=t(2),l=t(3),c=t.n(l),m=function(){return c.a.get("/api/persons").then(function(e){return e.data})},s=function(e){return c.a.post("/api/persons",e).then(function(e){return e.data})},d=function(e){return c.a.delete("".concat("/api/persons","/").concat(e)).then(function(e){return e.data})},f=function(e){return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",r.a.createElement("input",{value:e.value,onChange:e.onChange}))},p=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.clickHandler},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:e.nameValue,onChange:e.nameChangeHandler})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:e.numberValue,onChange:e.numberChangeHandler})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},b=function(e){return(null===e.restrictionValue?e.persons:e.persons.filter(function(n){return n.name.toLowerCase().includes(e.restrictionValue.toLowerCase())})).map(function(n){return r.a.createElement("div",{key:n.name},n.name," ",n.number," ",r.a.createElement("button",{onClick:function(){return e.clickHandler(n.id)}},"poista"))})},v=function(e){var n=e.message,t=e.error;return null===n?null:t?r.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},n):r.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},n)},h=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)(""),l=Object(i.a)(o,2),h=l[0],g=l[1],E=Object(a.useState)(""),j=Object(i.a)(E,2),k=j[0],O=j[1],w=Object(a.useState)(""),C=Object(i.a)(w,2),S=C[0],y=C[1],H=Object(a.useState)(null),V=Object(i.a)(H,2),T=V[0],B=V[1],L=Object(a.useState)(!1),z=Object(i.a)(L,2),J=z[0],P=z[1];Object(a.useEffect)(function(){m().then(function(e){u(e)})},[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Puhelinluettelo"),r.a.createElement(v,{message:T,error:J}),r.a.createElement(f,{value:S,onChange:function(e){y(e.target.value)}}),r.a.createElement("h2",null,"lis\xe4\xe4 uusi"),r.a.createElement(p,{nameValue:h,numberValue:k,nameChangeHandler:function(e){g(e.target.value)},numberChangeHandler:function(e){O(e.target.value)},clickHandler:function(e){e.preventDefault();var n={name:h,number:k};if(t.map(function(e){return e.name}).includes(h)){var a=t.find(function(e){return e.name===h});window.confirm("".concat(h," on jo luettelossa, korvataanko vanha numero uudella?"))&&c.a.put("http://localhost:3001/api/persons/".concat(a.id),n).then(function(e){u(t.map(function(n){return n.id!==a.id?n:e.data})),B("Henkil\xf6n ".concat(a.name," numero vaihdettu")),setTimeout(function(){B(null)},5e3),g(""),O("")}).catch(function(e){u(t.filter(function(e){return e.id!==a.id})),P(!0),B("Henkil\xf6 ".concat(a.name," oli jo poistettu")),setTimeout(function(){B(null),P(!1)},5e3)})}else s(n).then(function(e){B("Lis\xe4ttiin ".concat(h)),setTimeout(function(){B(null)},5e3),u(t.concat(e)),g(""),O("")})}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement("div",null,r.a.createElement(b,{restrictionValue:S,persons:t,clickHandler:function(e){var n=t.find(function(n){return n.id===e});window.confirm("Poistetaanko ".concat(n.name,"?"))&&d(e).then(function(){u(t.filter(function(n){return n.id!==e})),B("".concat(n.name," poistettu")),setTimeout(function(){B(null)},5e3)})}})))};o.a.render(r.a.createElement(h,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.408ab1af.chunk.js.map